<!DOCTYPE html><html><head><meta charset="utf-8"><title>Bug Animation.md</title><style></style></head><body id="preview">
<h1 class="code-line" data-line-start=0 data-line-end=1><a id="Bug_Animation_0"></a>Bug Animation</h1>
<h3 class="code-line" data-line-start=2 data-line-end=3><a id="Describe_Assignment_2"></a>Describe Assignment:</h3>
<p class="has-line-data" data-line-start="4" data-line-end="5">Take the code you wrote for ch9 animation (<a href="https://ohlone.instructure.com/courses/15812/files/2545332?module_item_id=668468">animation.tgz</a>) and use the Animate and Picture class to create an animated gif of the bug going up and down the pole (You can use the previous CodeCheck exercise if you would like and you can use <a href="https://ohlone.instructure.com/courses/15812/files/2545331?module_item_id=668469">bug.cpp</a> as a starting point). You need to upload a bug image (not a dog image). (Probably smaller is better e.g. 50x50).</p>
<h3 class="code-line" data-line-start=6 data-line-end=7><a id="GIF_result_6"></a>GIF result:</h3>
<p class="has-line-data" data-line-start="8" data-line-end="9"><img src="https://github.com/AmberFu/CS124_DataStructure_usingCpp/blob/main/Assignments/pic/Lab1_BugAnimation.gif?raw=true" alt="bugClimbPoleUpAndDown"> <a href="https://github.com/AmberFu/CS124_DataStructure_usingCpp/blob/main/Assignments/pic/Lab1_BugAnimation.gif?raw=true">GIF</a></p>
<h3 class="code-line" data-line-start=10 data-line-end=11><a id="How_to_resize_and_make_transparency_image_10"></a>How to resize and make transparency image?</h3>
<ol>
<li class="has-line-data" data-line-start="12" data-line-end="14">
<p class="has-line-data" data-line-start="12" data-line-end="13">Download bug.jpg online</p>
</li>
<li class="has-line-data" data-line-start="14" data-line-end="16">
<p class="has-line-data" data-line-start="14" data-line-end="15">Resize and transform JPG to PNG:</p>
</li>
</ol>
<pre><code class="has-line-data" data-line-start="17" data-line-end="19"> $ convert -resize 5% bug.jpg smallBug.png
</code></pre>
<ol start="3">
<li class="has-line-data" data-line-start="20" data-line-end="22">Make image transparency:</li>
</ol>
<pre><code class="has-line-data" data-line-start="23" data-line-end="25">convert smallBug.png -fuzz 10% -transparent white smallBug_transparency.png
</code></pre>
<blockquote>
<p class="has-line-data" data-line-start="26" data-line-end="27">Note: Because background is not exactl white, so using <code>fuzz 10%</code> to convert almost-white color to transparent color.</p>
</blockquote>
<h3 class="code-line" data-line-start=28 data-line-end=29><a id="Source_Code_28"></a>Source Code:</h3>
<p class="has-line-data" data-line-start="30" data-line-end="31"><a href="https://github.com/AmberFu/CS124_DataStructure_usingCpp/blob/main/Assignments/Lab1_BugAnimation/demoBug.cpp">demoBug.cpp</a></p>
<pre><code class="has-line-data" data-line-start="33" data-line-end="129" class="language-cpp">#include "animation.h"
#include &lt;iostream&gt;

class Bug
{
public:
   Bug(Picture&amp;, Picture&amp;);
   int get_yposition() const;
   int get_xposition() const;
   int get_poleHeight();
   int get_bottom() const;
   bool isUp();
   void up();
   void down();
private:
   Picture bugPic;
   Picture polePic;
   int bottom;
   int y_position;
   int x_position;
   bool climbUp;
};

Bug::Bug(Picture&amp; bug, Picture&amp; pole)
{
   bugPic = bug;
   polePic = pole;
   bottom = pole.height() - bug.height();
   y_position = bottom;
   x_position = (pole.width()/2) - (bug.width()/2);
   climbUp = true;
}

int Bug::get_yposition() const
{
   return y_position;
}

int Bug::get_xposition() const
{
   return x_position;
}

int Bug::get_bottom() const
{
   return bottom;
}

bool Bug::isUp()
{
   return climbUp;
}

/* Climb UP first: up == true &amp;&amp; y posi != poleHeight */
void Bug::up()
{
   if (y_position == 0){
      climbUp = false;
   }else{
      y_position -= 1;
   }
}

/* After climb to the top, climb down to the bottum position */
void Bug::down()
{
   if (y_position != get_bottom()){
           y_position += 1;
   }
}

/* Main: */
int main()
{
   Picture picBug("smallBug_transparency.png"); // Bug which going up and down.
   Picture picPole("halfTreePole.png"); // Background picture: a pole. 
   Bug smallbug(picBug, picPole);
   /* Using tree pole png create this GIF's background */
   Animation anim("animation.gif", picPole.width(), picPole.height());
   while(smallbug.isUp() == true){
      smallbug.up();
      anim.add(picPole, 0, 0);
      anim.add(picBug, smallbug.get_xposition(), smallbug.get_yposition());
      anim.frame();
   }
   while(smallbug.isUp() == false &amp;&amp; 
         smallbug.get_yposition() != smallbug.get_bottom()){
      smallbug.down();
      anim.add(picPole, 0, 0);
      anim.add(picBug, smallbug.get_xposition(), smallbug.get_yposition());
      anim.frame();
   }
   anim.close();
}

</code></pre>
</body></html>